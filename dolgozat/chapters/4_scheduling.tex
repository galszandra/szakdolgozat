\Chapter{Az ütemezési probléma}

\Section{Az ütmezési probléma}

Az ütemezési probléma során azzal a kérdéssel állunk szembe, hogy milyen módon oldható meg, hogy a szabadon rendelkezésre álló feladatainkat úgy osszuk be, hogy azzal a lehető leghatékonyabb eredményt érjük el. A cél, hogy olyan időbeosztást kapjunk, ahol a feladataink összértéke a legnagyobb lesz. 

Ahhoz, hogy eldöntsük a feladatok közül melyek azok, amelyeket érdemes megvalósítanunk, valamint ahhoz, hogy ezeket hatékony sorrendben el is tudjuk helyezni, szükségünk van olyan adatokra, amelyekkel jellemezni tudjuk ezeket a tevékenységeket és olyan számításra, képletre, amely hozzájárul ezek ütemezéséhez. A dolgozatomban ezen adatok, melyek jellemzik a tevékenyégeket, a már említett prioritás és idő hányadosok lesznek. 

Az ütemezés egyik fele tehát arról szól, hogy mely feladatok beütemezése által érjük el a lehető legnagyobb összértéket, tehát a legfontosabb feladatok kiválogatása, amely még belefér az időkeretbe. Itt amire figyelni kell az az, hogy ha van egy magas prioritású feladat a listánkon, ami még beleférne az időkeretünkbe, de van másik két kisebb prioritással rendelkező feladat is, amely szintén beleférne ebbe a keretbe és azok összértéke (prioritása) együttesen nézve magasabb értéket képvisel, mint az előbbi feladaté, akkor ezt a két tevékenységet helyezzük előtérbe az előbbi egy, magasabb prioritású feladat helyett.

Az ütemezés másik fele a sorrend kialakításáról szól. Itt a prioritás még mindig egy fontos tényező, de az idő is meghatározó szerepet játszik. Kétségkívül, ha egy feladat csupán pár perc alatt letudható, azt nem érdemes halogatni – ld. kétperces technika módszere -, de nem hagyható figyelmen kívül a rövid „to-do-k” miatt egy sok időt felemésztő, de magasabb értéket képivelő tevékenység sem. Emiatt a prioritás/időtartam hányados szerinti ütemezést tartom itt megfelelőnek. Eszerint, ha megegyezik az időtartam kettő vagy több feladatnál, akkor a prioritásnak kell előtérbe kerülnie és amelyik fontosabb azt ütemezzük előrébb, míg, ha a prioriás megegyezik, de valamelyiknek rövidebb az ideje, akkor a rövidebb időtartammal rendelkező feladatot válasszuk hamarabb az ütemezés során. Abban az esetben, ha megegyeznek az időtartamok és a prioritások is, és ugyanazt a hányadost kapjuk a képlet végén, a felviteli sorrend szerint ütemezhetjük be őket. Megjegyezném, hogy egy későbbi, továbbfejlesztett verzióban itt adódik remek lehetőség arra, hogy a modellben ne csak az adott két hányadossal számoljunk, hanem a már említett tényezőket is figyelembe vegyük, mint például mennyi haszonnal jár vagy épp mennyire nehéz a feladat elvégzése és ezeket is belekalkuláljuk a még hatékonyabb megoldás érdekében.

Az optimalizálás és ütemezés során bementként várt értékek a programban a következőképp alakulnak majd.

Minden egyes feladahoz szükséges definiálni:

\begin{itemize}
	
\item egy prioritás: 1, 2 vagy 3-as értékkel, és
\item feladat elvégzéséhez szükséges becsült időtartamot: 1-480 perc között.

\end{itemize}

A sorba rendezés kialakításához ebből a két értékből kapott prioritás/időtartam hányadost használjuk fel.

Az időkeret értéke előre definiált 480 perc.

Kimenetnél egy olyan ütemtervet várunk, ahol azon feladatok kerültek beütemezésre, amelyek belefértek a 480 perces időkeretbe úgy, hogy fontosságuk a legnagyobb összértéket képviselik, mindezt a feladatokhoz tartozó prioritás/időtartam hányados alapján csökkenő sorrendben kialakítva.

A következőkben különböző lehetőségeket vizsgálok meg, amelyek segíthetnek a feladatok beütemezésében és az optimalizált eredmény elérésében.


\Section{A hátizsák feladat}

A hátizsák probléma egy dinamikus programozási probléma, amely az optimalizálási kategóriába tartozik. Célja, hogy adott súlyokkal és hozzárendelt értékekkel rendelkező elemek esetén maximalizálja az értéket egy hátizsákban, miközben a súlykorlátozáson belül marad. Minden elem csak egyszer választható ki, mivel egyetlen tételből sem áll rendelkezésünkre több mennyiség.
% TODO: (https://www.educative.io/edpresso/what-is-the-knapsack-problem)

A megoldás során előkészületeként feltehető, hogy az elemek érték/tömeg szerint csökkenő sorrendben vannak indexelve.

A hátizsák feladat felhasználása teljesen mértékben célravezetőnek tűnik, hiszen az érték/tömeg páros teljes mértékben megfeleltethető az általam tervezett alkalmazás prioritás/időtartam attribútumaival, és megoldja azt a problémát is, hogy úgy válassza ki az elemeket egy listából, hogy azzal eleget tegyen a kapacitás feltételének és emellett egy maximalizált eredmény adjon. Emellett a sorba rendezés problémáját is megoldja maga az optimalizálás elvégzése előtt, így nincs szükség utólagos ütemezésre.

\Section{Erőforrás tervezéshez kapcsolódó algoritmusok és szabályok}

A hátizsák feladat ugyan egy az egyben ráilleszthető az adott program matematikai modelljére, mint megoldás, de hasznosnak tartom áttekinteni más lehetőségeket is. A termelésinformatika területén belül, pontosabban erőforrás tervezés során már sokat tanulhattam magáról az ütemezésről, különböző ütemtervek megvalósításáról és a hozzá kapcsolódó algoritmusokról is. A következőkben ezek közül nézek meg néhányat. Érdemes lehet megjegyezni, hogy az erőforrás tervezés során az algoritmusok és az elvégzendő munkák lehetnek egy vagy több gépre tervezve és ezekhez tartozhatnak különböző szabályok az ütemezések célja szerint.

%Kulcsár diáit behivatkozni

\SubSection{Palmer-módszer}

Elsőként a Palmer módszer jutott a témával kapcsolatosan eszembe, amely azért keltette fel a figyelmem, mert itt a munkákhoz prioritási indexet kell rendelni, és ez a prioritási index értéke alapján történik maga az ütemezés. A prioritási index kiszámolására azonban olyan formula áll rendelkezésre, amelynek elve, hogy azok a munkák kerüljön előre, amelyeknek a megmunkálási idői az első gépeken rövidebbek a többihez képest. Így, mivel a prioritást szimplán idő alapján számolja, valamint többgépes rendszerre érvényes módszer, ezért el is vetettem ennek a használatát.

% TODO: Kulcsár diasor behivatkozása

\SubSection{Dannenbring-módszer}

A következő, Dannenbring-módszer ugyan súlyozási sémát használ az ütemezésekhez, viszont szintén többgépes feladatoknál alkalmazható, így visszatértem más tanult módszerek megvizsgálásához, pontosabban az egyetlen erőforrást tartalmazó ütemezési feladatok megoldásaihoz és onnan próbáltam ötleteket szerezni.


\SubSection{Az SPT szabály}

Az SPT (Shortest Processing Time) szabály lényege, hogy a munkákat a műveleti idők alapján nemcsökkendő sorrendbe rendezzük és ennek megfelelően indítjuk el azokat. Ez jelen esetben nálunk azt jelentené, hogy a tevékenységeket az alapján állítanánk sorba, hogy melyikkel tudunk leghamarabb végezni, viszont így az a probléma áll majd fent, hogy a prioritással nem tudunk foglalkozni.
% TODO: Kulcsár diasor behivatkozása


\SubSection{A WSPT szabály}

A WSPT (Weighted Shortest Processing Time) szabály a legkisebb súlyozott műveleti idejű munkát veszi előre. Itt már szóba jön a súlyozás is, a munkák ideje mellett, tehát ez a módszer használhatónak tűnik. A WSPT szabály lényege, hogy minden egyes munka – a dolgozatomban feladat – esetében wi/pi hányadosokat képzünk, ahol a wi a Ji munka súlyát, a pi a Ji munka műveleti idejét jelenti. Majd elrendezzük a munkákat a kapott wi/pi hányadosok alapján nemnövekvő sorrendbe és ennek megfelelően indítjuk el azokat.  Tehát egy wi/pi fontossági mutatót kapunk és minél nagyobb lesz egy munka mutatója, annál előrébb fog kerülni a sorban.
% TODO: Kulcsár diasor behivatkozása

A felsorolt ütemezések közül ez a szabály a sorba rendezés problémáját megoldaná, viszont arra nem elegendő, hogy figyelembe vegye mely feladatok által érhetnénk el a maximális összértéket.

Így végül a dolgozatomban a hátizsák feladat algoritmusának felhasználására esett a választásom, mivel a programom ütemezési és optimalizálási problémáját is megoldja.
